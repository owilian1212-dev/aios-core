# Story 2.1: Implement Setup Environment Workflow for aios-master

## Status
draft

## Story
**As a** developer using AIOS-FULLSTACK,
**I want** to run a setup-environment workflow that configures my IDE (Windsurf, Cursor, or Claude Code),
**so that** I have the proper rules and configurations for optimal development experience with the framework.

## Acceptance Criteria
1. The aios-master agent has a new workflow called "setup-environment"
2. The workflow detects which IDE is being used (Windsurf, Cursor, or Claude Code)
3. For each IDE, appropriate rule files are created/updated in the correct locations
4. The workflow preserves existing custom rules while adding AIOS-specific rules
5. A backup of existing rules is created before any modifications
6. The workflow provides clear feedback about what was configured
7. Documentation is updated to explain how to use the setup-environment workflow

## Tasks / Subtasks
- [ ] Analyze current aios-master agent structure (AC: 1)
  - [ ] Review aios-master.md agent definition
  - [ ] Understand existing workflow patterns
  - [ ] Identify where to add the new workflow
- [ ] Create IDE detection logic (AC: 2)
  - [ ] Implement detection for Windsurf (.windsurf directory)
  - [ ] Implement detection for Cursor (.cursor directory)
  - [ ] Implement detection for Claude Code (.claude directory)
- [ ] Define AIOS-specific rules for each IDE (AC: 3)
  - [ ] Create rules template for Windsurf
  - [ ] Create rules template for Cursor
  - [ ] Create rules template for Claude Code
- [ ] Integrate GitHub CLI setup (AC: 1, 6)
  - [ ] Detect if GitHub CLI is installed
  - [ ] Provide installation instructions if missing
  - [ ] Guide GitHub authentication setup
  - [ ] Test GitHub org access
- [ ] Implement the setup-environment workflow (AC: 1, 3, 4, 5)
  - [ ] Create setup-environment.md in appropriate location
  - [ ] Implement backup mechanism for existing rules
  - [ ] Implement rule merging logic (preserve custom + add AIOS rules)
  - [ ] Add GitHub CLI configuration steps
  - [ ] Add workflow to aios-master dependencies
- [ ] Add user feedback and confirmation (AC: 6)
  - [ ] Show detected IDE
  - [ ] Show GitHub CLI status
  - [ ] List rules being added
  - [ ] Confirm before making changes
  - [ ] Show summary of changes made
- [ ] Update documentation (AC: 7)
  - [ ] Update aios-master agent documentation
  - [ ] Add setup-environment to available workflows list
  - [ ] Document GitHub CLI requirements
  - [ ] Create usage examples

## Dev Notes

### Working Directory
All operations should be executed from the project root:
`C:\Users\AllFluence-User\Workspaces\Alephant\aios-fullstack\aios-fullstack\`

### Key Files to Review
- `aios-core/agents/aios-master.md` - The master agent definition
- `aios-core/workflows/` - Existing workflow patterns
- `.claude/`, `.cursor/`, `.windsurf/` - IDE configuration directories

### IDE Rule File Locations
- **Windsurf**: `.windsurf/rules` or project-specific location
- **Cursor**: `.cursorules` in project root
- **Claude Code**: `.claude/CLAUDE.md` for project-specific rules

### Technical Considerations
- Use YAML frontmatter in workflow files to define metadata
- Follow existing workflow patterns for consistency
- Ensure cross-platform compatibility (Windows/Mac/Linux)
- Consider using templates with placeholders for dynamic content

## Testing
- Test on Windows with all three IDEs
- Test on Mac/Linux if available
- Test with existing rules present
- Test with no existing rules
- Test backup and restore functionality
- Verify rule merging preserves custom content

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-01-25 | 1.0 | Initial story creation | Assistant |

## Dev Agent Record

### Agent Model Used
<!-- To be filled by dev agent -->

### Debug Log References
<!-- To be filled by dev agent -->

### Completion Notes List
<!-- To be filled by dev agent -->

### File List
<!-- To be filled by dev agent -->

## QA Results
<!-- To be filled by QA agent -->